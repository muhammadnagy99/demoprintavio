<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shirt Image Preview</title>
    <style>
        .shirt-container-white {
            position: relative;
            width: 300px;
            height: 400px;
            background: url('img/sweetshirt\(white\).png') no-repeat center center; /* Replace 'shirt.png' with the path to your shirt image */
            background-size: contain;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .shirt-container-black {
            position: relative;
            width: 300px;
            height: 400px;
            background: url('img/notebook.jpg') no-repeat center center; /* Replace 'shirt.png' with the path to your shirt image */
            background-size: contain;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .mask {
            position: absolute;
            width: 100px; /* Width of the visible area */
            height: 100px; /* Height of the visible area */
            overflow: hidden;
            border: dashed 2px #000; /* Optional: shows the mask area */
        }

        .image-overlay {
            width: 100%; /* Width of the overlay */
            height: 100%; /* Height of the overlay */
            position: absolute;
            background-size: contain; /* Use 'cover' to fill the area */
            background-repeat: no-repeat;
            background-position: center;
        }
    </style>
</head>
<body>

    <input type="file" id="imageUpload" accept="image/*" />
    <div class="shirt-container-white" id="shirtContainer">
        <div class="mask">
            <div class="image-overlay" id="imageOverlay"></div>
        </div>
    </div>
    <div class="shirt-container-black" id="shirtContainer">
        <div class="mask">
            <div class="image-overlay" id="imageOverlay"></div>
        </div>
    </div>
    
    <!-- Image Manipulation Controls -->
    <div class="controls">
        <button id="centerVertically">Center Vertically</button>
        <button id="centerHorizontally">Center Horizontally</button>
        <label for="scaleImage">Scale Image</label>
        <input type="range" id="scaleImage" min="1" max="100" value="50">
        <!-- Additional product settings here -->
    </div>
    
    <button id="applyChanges">Apply Changes</button>
    

    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script>
      document.getElementById('imageUpload').addEventListener('change', function(event) {
        const reader = new FileReader();
        reader.onload = function(e) {
            // Apply the image to all overlays
            document.querySelectorAll('.image-overlay').forEach(function(overlay) {
                overlay.style.backgroundImage = `url(${e.target.result})`;
                overlay.style.display = 'block';
            });
        };
        reader.readAsDataURL(event.target.files[0]);
    });

    interact('.image-overlay').draggable({
    // Allow free movement, without any restrictions
    listeners: {
        move: function (event) {
            var target = event.target;
            var x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;
            var y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;
            document.querySelectorAll('.image-overlay').forEach(overlay => {
                overlay.style.transform = 'translate(' + x + 'px, ' + y + 'px)';
                overlay.setAttribute('data-x', x);
                overlay.setAttribute('data-y', y);
            });
            // Apply the movement
            target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';
            target.setAttribute('data-x', x);
            target.setAttribute('data-y', y);

            // Check if the image is outside the .mask area
            var mask = document.querySelector('.mask').getBoundingClientRect();
            var overlay = target.getBoundingClientRect();

            if (overlay.right < mask.left || overlay.left > mask.right ||
                overlay.bottom < mask.top || overlay.top > mask.bottom) {
                // Hide the image if it's outside the .mask
                target.style.opacity = '0';
            } else {
                // Show the image if it's inside the .mask
                target.style.opacity = '1';
            }
        }
    }
});
    </script>

</body>
</html>
